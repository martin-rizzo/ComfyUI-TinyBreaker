{
  "id": "dae3a0af-4757-4f10-b825-b39008a932af",
  "revision": 0,
  "last_node_id": 283,
  "last_link_id": 703,
  "nodes": [
    {
      "id": 189,
      "type": "Reroute",
      "pos": [
        840,
        710
      ],
      "size": [
        75,
        26
      ],
      "flags": {
        "pinned": true
      },
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 514
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "GENPARAMS",
          "slot_index": 0,
          "links": [
            496
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 191,
      "type": "Reroute",
      "pos": [
        -1010,
        710
      ],
      "size": [
        75,
        26
      ],
      "flags": {
        "pinned": true
      },
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 496
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "GENPARAMS",
          "slot_index": 0,
          "links": [
            502
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 234,
      "type": "Reroute",
      "pos": [
        -40,
        -720
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 589
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "CLIP",
          "links": [
            596
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 238,
      "type": "DoubleStageSampler //TinyBreaker",
      "pos": [
        110,
        -780
      ],
      "size": [
        250,
        160
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "latent_input",
          "type": "LATENT",
          "link": 593
        },
        {
          "name": "genparams",
          "type": "GENPARAMS",
          "link": 594
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 641
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 596
        },
        {
          "name": "transcoder",
          "type": "TRANSCODER",
          "link": 642
        },
        {
          "name": "refiner_model",
          "type": "MODEL",
          "link": 643
        },
        {
          "name": "refiner_clip",
          "type": "CLIP",
          "link": 645
        }
      ],
      "outputs": [
        {
          "name": "latent_output",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            600
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "DoubleStageSampler //TinyBreaker"
      },
      "widgets_values": []
    },
    {
      "id": 144,
      "type": "SaveImage //TinyBreaker",
      "pos": [
        920,
        -20
      ],
      "size": [
        650,
        680
      ],
      "flags": {
        "pinned": true
      },
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 633
        },
        {
          "name": "genparams",
          "shape": 7,
          "type": "GENPARAMS",
          "link": 515
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "SaveImage //TinyBreaker"
      },
      "widgets_values": [
        "TinyBreaker/%date:yyyy_MM_dd%/TB",
        ""
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 177,
      "type": "SelectStyle //TinyBreaker",
      "pos": [
        60,
        -20
      ],
      "size": [
        300,
        120
      ],
      "flags": {
        "pinned": true
      },
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "genparams",
          "type": "GENPARAMS",
          "link": 649
        },
        {
          "name": "custom_definitions",
          "shape": 7,
          "type": "STRING",
          "widget": {
            "name": "custom_definitions"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "genparams",
          "type": "GENPARAMS",
          "slot_index": 0,
          "links": [
            528
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "SelectStyle //TinyBreaker"
      },
      "widgets_values": [
        "ULTRAPHOTO",
        "last",
        ""
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 205,
      "type": "Note",
      "pos": [
        -820,
        140
      ],
      "size": [
        740,
        520
      ],
      "flags": {
        "pinned": true
      },
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "NOTE: INSTALLATION",
      "properties": {},
      "widgets_values": [
        "\n The TinyBreaker model can be downloaded from:\n   https://civitai.com/models/1213728\n\n The T5 Text Encoder is available at:\n   https://huggingface.co/Comfy-Org/stable-diffusion-3.5-fp8/blob/main/text_encoders/t5xxl_fp8_e4m3fn.safetensors\n\n The custom nodes used in this workflow are implemented in:\n   https://github.com/martin-rizzo/ComfyUI-TinyBreaker\n"
      ],
      "color": "#222",
      "bgcolor": "#000",
      "shape": 1
    },
    {
      "id": 203,
      "type": "Note",
      "pos": [
        -70,
        140
      ],
      "size": [
        430,
        190
      ],
      "flags": {
        "pinned": true
      },
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "NOTE: SUPPORTED PARAMETERS",
      "properties": {},
      "widgets_values": [
        "  --no <text>\n  --refine <text>\n  --img-shift <number>\n  --cfg-shift <number>\n  --detail-level <none|low|normal|high>\n  --seed <number>\n  --aspect <ratio>\n  --landscape | --portrait\n  --small | --medium | --large\n  --batch-size <number>\n"
      ],
      "color": "#222",
      "bgcolor": "#000",
      "shape": 1
    },
    {
      "id": 256,
      "type": "Reroute",
      "pos": [
        620,
        -170
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 634
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            633
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 204,
      "type": "Note",
      "pos": [
        -70,
        360
      ],
      "size": [
        430,
        300
      ],
      "flags": {
        "pinned": true
      },
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "NOTE: KEYS",
      "properties": {},
      "widgets_values": [
        " PARAMETER AUTO-COMPLETION:\n   - Start typing a parameter.\n   - Press CTRL+RIGHT to auto-complete.\n     example: type \"--as\" + CTRL+RIGHT -> result: \"--aspect\"\n\n NAVIGATE BETWEEN PARAMETERS:\n   - Type \"--\".\n   - Use CTRL+RIGHT/LEFT to cycle through parameters.\n\n MODIFY PARAMETER VALUES:\n   - Position cursor on a parameter value (e.g., \"--seed 6\").\n   - Press CTRL+UP to increase value.\n   - Press CTRL+DOWN to decrease value.\n     example: \"--seed 6\" + CTRL+UP -> result: \"--seed 7\"\n\nTRIGGER IMAGE GENERATION:\n   - Press CTRL+ENTER to generate the image.\n"
      ],
      "color": "#222",
      "bgcolor": "#000",
      "shape": 1
    },
    {
      "id": 241,
      "type": "LoadT5EncoderExperimental //TinyBreaker",
      "pos": [
        -540,
        -440
      ],
      "size": [
        430,
        140
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "slot_index": 0,
          "links": [
            589
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "LoadT5EncoderExperimental //TinyBreaker"
      },
      "widgets_values": [
        "t5xxl_fp8_e4m3fn.safetensors",
        "auto",
        "auto",
        "auto"
      ],
      "color": "#322",
      "bgcolor": "#533",
      "shape": 1
    },
    {
      "id": 193,
      "type": "Reroute",
      "pos": [
        -970,
        -840
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 502
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "GENPARAMS",
          "slot_index": 0,
          "links": [
            602
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 278,
      "type": "Reroute",
      "pos": [
        -210,
        -920
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 684
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "GENPARAMS",
          "slot_index": 0,
          "links": [
            681
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 233,
      "type": "EmptyLatentImage //TinyBreaker",
      "pos": [
        -140,
        -850
      ],
      "size": [
        230,
        30
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "genparams",
          "type": "GENPARAMS",
          "link": 685
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            593
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "EmptyLatentImage //TinyBreaker"
      },
      "widgets_values": []
    },
    {
      "id": 235,
      "type": "Reroute",
      "pos": [
        -70,
        -810
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 686
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "GENPARAMS",
          "links": [
            594
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 240,
      "type": "Reroute",
      "pos": [
        -550,
        -840
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 602
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "GENPARAMS",
          "slot_index": 0,
          "links": [
            684,
            685,
            686
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 260,
      "type": "LoadTinyBreakerCheckpointV2 //TinyBreaker",
      "pos": [
        -540,
        -740
      ],
      "size": [
        430,
        260
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            641
          ]
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": null
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            647
          ]
        },
        {
          "name": "TRANSCODER",
          "type": "TRANSCODER",
          "links": [
            642
          ]
        },
        {
          "name": "REFINER_MODEL",
          "type": "MODEL",
          "links": [
            643,
            644
          ]
        },
        {
          "name": "REFINER_CLIP",
          "type": "CLIP",
          "links": [
            645,
            646
          ]
        },
        {
          "name": "UPSCALER_VAE",
          "type": "VAE",
          "slot_index": 6,
          "links": [
            665
          ]
        },
        {
          "name": "METADATA",
          "type": "GENPARAMS",
          "links": [
            649
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "LoadTinyBreakerCheckpointV2 //TinyBreaker"
      },
      "widgets_values": [
        "tinybreaker_prototype1.safetensors",
        "auto",
        "auto"
      ],
      "color": "#322",
      "bgcolor": "#533",
      "shape": 1
    },
    {
      "id": 198,
      "type": "UnifiedPromptInput //TinyBreaker",
      "pos": [
        370,
        -20
      ],
      "size": [
        540,
        680
      ],
      "flags": {
        "pinned": true
      },
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "genparams",
          "type": "GENPARAMS",
          "link": 528
        }
      ],
      "outputs": [
        {
          "name": "genparams",
          "type": "GENPARAMS",
          "links": [
            514,
            515
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "UnifiedPromptInput //TinyBreaker"
      },
      "widgets_values": [
        "A happy cat swimming in water surrounded by goldfish. The cat is in the center of the image and is swimming towards the camera, its tail is straight above the water. The cat is a tabby with brown and black stripes and has light yellow eyes. The cat is surrounded by many goldfish that are orange and swimming in the water. The water is clear and the background is a blur of green trees. The lighting is natural\n\n--aspect 3:2 --portrait --seed 1 \n"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 239,
      "type": "VAEDecode",
      "pos": [
        380,
        -780
      ],
      "size": [
        150,
        50
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 600
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 664
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            634,
            696
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      },
      "widgets_values": []
    },
    {
      "id": 279,
      "type": "Reroute",
      "pos": [
        442.37420654296875,
        -922.6219482421875
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 681
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "GENPARAMS",
          "slot_index": 0,
          "links": [
            682,
            693
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 259,
      "type": "Reroute",
      "pos": [
        280,
        -540
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 644
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            701
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 283,
      "type": "TinyUpscaler //TinyBreaker",
      "pos": [
        550,
        -780
      ],
      "size": [
        250,
        160
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 696
        },
        {
          "name": "genparams",
          "type": "GENPARAMS",
          "link": 693
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 701
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 702
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 703
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            700
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "TinyUpscaler //TinyBreaker"
      }
    },
    {
      "id": 280,
      "type": "Reroute",
      "pos": [
        730,
        -920
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 682
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "GENPARAMS",
          "slot_index": 0,
          "links": [
            683
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 250,
      "type": "SaveImage //TinyBreaker",
      "pos": [
        850,
        -860
      ],
      "size": [
        650,
        680
      ],
      "flags": {
        "collapsed": false
      },
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 700
        },
        {
          "name": "genparams",
          "shape": 7,
          "type": "GENPARAMS",
          "link": 683
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "SaveImage //TinyBreaker"
      },
      "widgets_values": [
        "TinyUpscaler/%date:yyyy_MM_dd%/TB",
        ""
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 236,
      "type": "Reroute",
      "pos": [
        280,
        -570
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 647
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "VAE",
          "slot_index": 0,
          "links": [
            664
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 253,
      "type": "Reroute",
      "pos": [
        280,
        -510
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 646
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "CLIP",
          "slot_index": 0,
          "links": [
            702
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 261,
      "type": "Reroute",
      "pos": [
        280,
        -480
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 665
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "VAE",
          "slot_index": 0,
          "links": [
            703
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    }
  ],
  "links": [
    [
      496,
      189,
      0,
      191,
      0,
      "*"
    ],
    [
      502,
      191,
      0,
      193,
      0,
      "*"
    ],
    [
      514,
      198,
      0,
      189,
      0,
      "*"
    ],
    [
      515,
      198,
      0,
      144,
      1,
      "GENPARAMS"
    ],
    [
      528,
      177,
      0,
      198,
      0,
      "GENPARAMS"
    ],
    [
      589,
      241,
      0,
      234,
      0,
      "*"
    ],
    [
      593,
      233,
      0,
      238,
      0,
      "LATENT"
    ],
    [
      594,
      235,
      0,
      238,
      1,
      "GENPARAMS"
    ],
    [
      596,
      234,
      0,
      238,
      3,
      "CLIP"
    ],
    [
      600,
      238,
      0,
      239,
      0,
      "LATENT"
    ],
    [
      602,
      193,
      0,
      240,
      0,
      "*"
    ],
    [
      633,
      256,
      0,
      144,
      0,
      "IMAGE"
    ],
    [
      634,
      239,
      0,
      256,
      0,
      "*"
    ],
    [
      641,
      260,
      0,
      238,
      2,
      "MODEL"
    ],
    [
      642,
      260,
      3,
      238,
      4,
      "TRANSCODER"
    ],
    [
      643,
      260,
      4,
      238,
      5,
      "MODEL"
    ],
    [
      644,
      260,
      4,
      259,
      0,
      "*"
    ],
    [
      645,
      260,
      5,
      238,
      6,
      "CLIP"
    ],
    [
      646,
      260,
      5,
      253,
      0,
      "*"
    ],
    [
      647,
      260,
      2,
      236,
      0,
      "*"
    ],
    [
      649,
      260,
      7,
      177,
      0,
      "GENPARAMS"
    ],
    [
      664,
      236,
      0,
      239,
      1,
      "VAE"
    ],
    [
      665,
      260,
      6,
      261,
      0,
      "*"
    ],
    [
      681,
      278,
      0,
      279,
      0,
      "*"
    ],
    [
      682,
      279,
      0,
      280,
      0,
      "*"
    ],
    [
      683,
      280,
      0,
      250,
      1,
      "GENPARAMS"
    ],
    [
      684,
      240,
      0,
      278,
      0,
      "*"
    ],
    [
      685,
      240,
      0,
      233,
      0,
      "GENPARAMS"
    ],
    [
      686,
      240,
      0,
      235,
      0,
      "*"
    ],
    [
      693,
      279,
      0,
      283,
      1,
      "GENPARAMS"
    ],
    [
      696,
      239,
      0,
      283,
      0,
      "IMAGE"
    ],
    [
      700,
      283,
      0,
      250,
      0,
      "IMAGE"
    ],
    [
      701,
      259,
      0,
      283,
      2,
      "MODEL"
    ],
    [
      702,
      253,
      0,
      283,
      3,
      "CLIP"
    ],
    [
      703,
      261,
      0,
      283,
      4,
      "VAE"
    ]
  ],
  "groups": [
    {
      "id": 3,
      "title": "Control Panel | TinyBreaker v0.3",
      "bounding": [
        50,
        -110,
        1540,
        790
      ],
      "color": "#8A8",
      "font_size": 24,
      "flags": {
        "pinned": true
      }
    },
    {
      "id": 5,
      "title": "Diffusion Process",
      "bounding": [
        -550,
        -970,
        1370,
        680
      ],
      "color": "#444",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.6303940863128685,
      "offset": [
        807.4701765088305,
        981.9920821084711
      ]
    }
  },
  "version": 0.4
}