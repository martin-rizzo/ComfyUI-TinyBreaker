{
  "id": "dae3a0af-4757-4f10-b825-b39008a932af",
  "revision": 0,
  "last_node_id": 289,
  "last_link_id": 721,
  "nodes": [
    {
      "id": 189,
      "type": "Reroute",
      "pos": [
        840,
        710
      ],
      "size": [
        75,
        26
      ],
      "flags": {
        "pinned": true
      },
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 514
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "GENPARAMS",
          "slot_index": 0,
          "links": [
            496
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 191,
      "type": "Reroute",
      "pos": [
        -1010,
        710
      ],
      "size": [
        75,
        26
      ],
      "flags": {
        "pinned": true
      },
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 496
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "GENPARAMS",
          "slot_index": 0,
          "links": [
            502
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 144,
      "type": "SaveImage //TinyBreaker",
      "pos": [
        920,
        -20
      ],
      "size": [
        650,
        680
      ],
      "flags": {
        "pinned": true
      },
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 710
        },
        {
          "name": "genparams",
          "shape": 7,
          "type": "GENPARAMS",
          "link": 515
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "SaveImage //TinyBreaker"
      },
      "widgets_values": [
        "TinyBreaker/%date:yyyy_MM_dd%/TB"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 177,
      "type": "SelectStyle //TinyBreaker",
      "pos": [
        60,
        -20
      ],
      "size": [
        300,
        120
      ],
      "flags": {
        "pinned": true
      },
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "genparams",
          "type": "GENPARAMS",
          "link": 721
        },
        {
          "name": "custom_definitions",
          "shape": 7,
          "type": "STRING",
          "widget": {
            "name": "custom_definitions"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "genparams",
          "type": "GENPARAMS",
          "slot_index": 0,
          "links": [
            528
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "SelectStyle //TinyBreaker"
      },
      "widgets_values": [
        "ULTRAPHOTO",
        "last",
        ""
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 205,
      "type": "Note",
      "pos": [
        -820,
        140
      ],
      "size": [
        740,
        520
      ],
      "flags": {
        "pinned": true
      },
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "NOTE: INSTALLATION",
      "properties": {},
      "widgets_values": [
        "\n The TinyBreaker model can be downloaded from:\n   https://civitai.com/models/1213728\n\n The T5 Text Encoder is available at:\n   https://huggingface.co/Comfy-Org/stable-diffusion-3.5-fp8/blob/main/text_encoders/t5xxl_fp8_e4m3fn.safetensors\n\n The custom nodes used in this workflow are implemented in:\n   https://github.com/martin-rizzo/ComfyUI-TinyBreaker\n"
      ],
      "color": "#222",
      "bgcolor": "#000",
      "shape": 1
    },
    {
      "id": 204,
      "type": "Note",
      "pos": [
        -70,
        360
      ],
      "size": [
        430,
        300
      ],
      "flags": {
        "pinned": true
      },
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "NOTE: KEYS",
      "properties": {},
      "widgets_values": [
        " PARAMETER AUTO-COMPLETION:\n   - Start typing a parameter.\n   - Press CTRL+RIGHT to auto-complete.\n     example: type \"--as\" + CTRL+RIGHT -> result: \"--aspect\"\n\n NAVIGATE BETWEEN PARAMETERS:\n   - Type \"--\".\n   - Use CTRL+RIGHT/LEFT to cycle through parameters.\n\n MODIFY PARAMETER VALUES:\n   - Position cursor on a parameter value (e.g., \"--seed 6\").\n   - Press CTRL+UP to increase value.\n   - Press CTRL+DOWN to decrease value.\n     example: \"--seed 6\" + CTRL+UP -> result: \"--seed 7\"\n\nTRIGGER IMAGE GENERATION:\n   - Press CTRL+ENTER to generate the image.\n"
      ],
      "color": "#222",
      "bgcolor": "#000",
      "shape": 1
    },
    {
      "id": 240,
      "type": "Reroute",
      "pos": [
        -720,
        -810
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 602
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "GENPARAMS",
          "slot_index": 0,
          "links": [
            684,
            685,
            686
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 203,
      "type": "Note",
      "pos": [
        -70,
        140
      ],
      "size": [
        430,
        190
      ],
      "flags": {
        "pinned": true
      },
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "NOTE: SUPPORTED PARAMETERS",
      "properties": {},
      "widgets_values": [
        "  --no <text>\n  --refine <text>\n  --seed <number>\n  --cfg-shift <number>\n  --image-shift <number>\n  --upscale [on|off]\n\n  --portrait\n  --landscape\n  --aspect <ratio>\n  --batch-size <number>\n  --detail-level <none|low|normal|high>\n"
      ],
      "color": "#222",
      "bgcolor": "#000",
      "shape": 1
    },
    {
      "id": 284,
      "type": "TinyUpscaler //TinyBreaker",
      "pos": [
        430,
        -750
      ],
      "size": [
        260,
        162
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 705
        },
        {
          "name": "genparams",
          "type": "GENPARAMS",
          "link": 706
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 707
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 708
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 709
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            710
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "TinyUpscaler //TinyBreaker"
      },
      "widgets_values": [
        3,
        "upscaler"
      ]
    },
    {
      "id": 279,
      "type": "Reroute",
      "pos": [
        290,
        -890
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 681
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "GENPARAMS",
          "slot_index": 0,
          "links": [
            693,
            706
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 239,
      "type": "VAEDecode",
      "pos": [
        250,
        -750
      ],
      "size": [
        150,
        50
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 600
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 664
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            696,
            705
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      },
      "widgets_values": []
    },
    {
      "id": 286,
      "type": "Reroute",
      "pos": [
        -70,
        -330
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 716
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "MODEL",
          "links": [
            717
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 287,
      "type": "Reroute",
      "pos": [
        -70,
        -300
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 714
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "CLIP",
          "links": [
            715
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 288,
      "type": "Reroute",
      "pos": [
        -70,
        -270
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 718
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "VAE",
          "links": [
            719
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 285,
      "type": "Reroute",
      "pos": [
        -70,
        -360
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 711
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "VAE",
          "links": [
            712
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 259,
      "type": "Reroute",
      "pos": [
        130,
        -330
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 717
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            701,
            707
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 253,
      "type": "Reroute",
      "pos": [
        130,
        -300
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 715
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "CLIP",
          "slot_index": 0,
          "links": [
            702,
            708
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 261,
      "type": "Reroute",
      "pos": [
        130,
        -270
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 719
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "VAE",
          "slot_index": 0,
          "links": [
            703,
            709
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 236,
      "type": "Reroute",
      "pos": [
        130,
        -360
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 712
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "VAE",
          "slot_index": 0,
          "links": [
            664
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 233,
      "type": "EmptyLatentImage //TinyBreaker",
      "pos": [
        -340,
        -820
      ],
      "size": [
        230,
        30
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "genparams",
          "type": "GENPARAMS",
          "link": 685
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            593
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "EmptyLatentImage //TinyBreaker"
      },
      "widgets_values": []
    },
    {
      "id": 278,
      "type": "Reroute",
      "pos": [
        -310,
        -890
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 684
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "GENPARAMS",
          "slot_index": 0,
          "links": [
            681
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 235,
      "type": "Reroute",
      "pos": [
        -310,
        -780
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 686
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "GENPARAMS",
          "links": [
            594
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 238,
      "type": "DoubleStageSampler //TinyBreaker",
      "pos": [
        -80,
        -760
      ],
      "size": [
        290,
        390
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "latent_input",
          "type": "LATENT",
          "link": 593
        },
        {
          "name": "genparams",
          "type": "GENPARAMS",
          "link": 594
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 641
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 596
        },
        {
          "name": "transcoder",
          "type": "TRANSCODER",
          "link": 642
        },
        {
          "name": "refiner_model",
          "type": "MODEL",
          "link": 643
        },
        {
          "name": "refiner_clip",
          "type": "CLIP",
          "link": 645
        }
      ],
      "outputs": [
        {
          "name": "latent_output",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            600
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "DoubleStageSampler //TinyBreaker"
      },
      "widgets_values": []
    },
    {
      "id": 241,
      "type": "LoadT5EncoderExperimental //TinyBreaker",
      "pos": [
        -710,
        -420
      ],
      "size": [
        430,
        140
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "slot_index": 0,
          "links": [
            589
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "LoadT5EncoderExperimental //TinyBreaker"
      },
      "widgets_values": [
        "t5xxl_fp8_e4m3fn.safetensors",
        "auto",
        "auto",
        "auto"
      ],
      "color": "#322",
      "bgcolor": "#533",
      "shape": 1
    },
    {
      "id": 193,
      "type": "Reroute",
      "pos": [
        -970,
        -810
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 502
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "GENPARAMS",
          "slot_index": 0,
          "links": [
            602
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 234,
      "type": "Reroute",
      "pos": [
        -210,
        -700
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 589
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "CLIP",
          "links": [
            596
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 260,
      "type": "LoadTinyBreakerCheckpointV2 //TinyBreaker",
      "pos": [
        -710,
        -720
      ],
      "size": [
        430,
        260
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            641
          ]
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": null
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            711
          ]
        },
        {
          "name": "TRANSCODER",
          "type": "TRANSCODER",
          "links": [
            642
          ]
        },
        {
          "name": "REFINER_MODEL",
          "type": "MODEL",
          "links": [
            643,
            716
          ]
        },
        {
          "name": "REFINER_CLIP",
          "type": "CLIP",
          "links": [
            645,
            713,
            714
          ]
        },
        {
          "name": "UPSCALER_VAE",
          "type": "VAE",
          "slot_index": 6,
          "links": [
            718
          ]
        },
        {
          "name": "METADATA",
          "type": "GENPARAMS",
          "links": [
            720
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "LoadTinyBreakerCheckpointV2 //TinyBreaker"
      },
      "widgets_values": [
        "tinybreaker_prototype1.safetensors",
        "auto",
        "auto"
      ],
      "color": "#322",
      "bgcolor": "#533",
      "shape": 1
    },
    {
      "id": 289,
      "type": "Reroute",
      "pos": [
        -160,
        -20
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 720
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "GENPARAMS",
          "links": [
            721
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 198,
      "type": "UnifiedPromptInput //TinyBreaker",
      "pos": [
        370,
        -20
      ],
      "size": [
        540,
        680
      ],
      "flags": {
        "pinned": true
      },
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "genparams",
          "type": "GENPARAMS",
          "link": 528
        }
      ],
      "outputs": [
        {
          "name": "genparams",
          "type": "GENPARAMS",
          "links": [
            514,
            515
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "UnifiedPromptInput //TinyBreaker"
      },
      "widgets_values": [
        "A bird made of paper sitting in the middle of a flooded street. The bird is constructed from what looks like folded paper or a similar material, giving it a geometric, origami-like appearance. The texture is smooth, with defined edges where the paper is folded to resemble feathers and a beak. The bird's color is a muted gray or off-white. The bird is positioned in the center of a street that is covered in water, suggesting it has been raining. The water reflects the surrounding lights, creating bright streaks of orange and white. The road is dark and glossy from the rain. In the background, there are cars with their headlights on, indicating they are driving on the wet street. The cars are blurred, suggesting movement. The background also includes trees without leaves, and streetlights, all contributing to a somber, urban atmosphere. The sky is overcast. Bokeh\n\n--aspect 3:2 --portrait --seed 1 --upscale off \n"
      ],
      "color": "#232",
      "bgcolor": "#353"
    }
  ],
  "links": [
    [
      496,
      189,
      0,
      191,
      0,
      "*"
    ],
    [
      502,
      191,
      0,
      193,
      0,
      "*"
    ],
    [
      514,
      198,
      0,
      189,
      0,
      "*"
    ],
    [
      515,
      198,
      0,
      144,
      1,
      "GENPARAMS"
    ],
    [
      528,
      177,
      0,
      198,
      0,
      "GENPARAMS"
    ],
    [
      589,
      241,
      0,
      234,
      0,
      "*"
    ],
    [
      593,
      233,
      0,
      238,
      0,
      "LATENT"
    ],
    [
      594,
      235,
      0,
      238,
      1,
      "GENPARAMS"
    ],
    [
      596,
      234,
      0,
      238,
      3,
      "CLIP"
    ],
    [
      600,
      238,
      0,
      239,
      0,
      "LATENT"
    ],
    [
      602,
      193,
      0,
      240,
      0,
      "*"
    ],
    [
      641,
      260,
      0,
      238,
      2,
      "MODEL"
    ],
    [
      642,
      260,
      3,
      238,
      4,
      "TRANSCODER"
    ],
    [
      643,
      260,
      4,
      238,
      5,
      "MODEL"
    ],
    [
      645,
      260,
      5,
      238,
      6,
      "CLIP"
    ],
    [
      664,
      236,
      0,
      239,
      1,
      "VAE"
    ],
    [
      681,
      278,
      0,
      279,
      0,
      "*"
    ],
    [
      684,
      240,
      0,
      278,
      0,
      "*"
    ],
    [
      685,
      240,
      0,
      233,
      0,
      "GENPARAMS"
    ],
    [
      686,
      240,
      0,
      235,
      0,
      "*"
    ],
    [
      705,
      239,
      0,
      284,
      0,
      "IMAGE"
    ],
    [
      706,
      279,
      0,
      284,
      1,
      "GENPARAMS"
    ],
    [
      707,
      259,
      0,
      284,
      2,
      "MODEL"
    ],
    [
      708,
      253,
      0,
      284,
      3,
      "CLIP"
    ],
    [
      709,
      261,
      0,
      284,
      4,
      "VAE"
    ],
    [
      710,
      284,
      0,
      144,
      0,
      "IMAGE"
    ],
    [
      711,
      260,
      2,
      285,
      0,
      "*"
    ],
    [
      712,
      285,
      0,
      236,
      0,
      "*"
    ],
    [
      714,
      260,
      5,
      287,
      0,
      "*"
    ],
    [
      715,
      287,
      0,
      253,
      0,
      "*"
    ],
    [
      716,
      260,
      4,
      286,
      0,
      "*"
    ],
    [
      717,
      286,
      0,
      259,
      0,
      "*"
    ],
    [
      718,
      260,
      6,
      288,
      0,
      "*"
    ],
    [
      719,
      288,
      0,
      261,
      0,
      "*"
    ],
    [
      720,
      260,
      7,
      289,
      0,
      "*"
    ],
    [
      721,
      289,
      0,
      177,
      0,
      "GENPARAMS"
    ]
  ],
  "groups": [
    {
      "id": 3,
      "title": "Control Panel | TinyBreaker v0.3",
      "bounding": [
        50,
        -110,
        1540,
        790
      ],
      "color": "#8A8",
      "font_size": 24,
      "flags": {
        "pinned": true
      }
    },
    {
      "id": 5,
      "title": "Diffusion & Upscaling Process",
      "bounding": [
        -720,
        -940,
        1420,
        710
      ],
      "color": "#444",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.8390545288824414,
      "offset": [
        218.46291000742582,
        214.187980487937
      ]
    }
  },
  "version": 0.4
}